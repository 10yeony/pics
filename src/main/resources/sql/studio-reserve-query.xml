<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	<!-- 예약 Flow 정리 
		1. Select
		1-1. 해당 스튜디오의 예약 관련 정보 불러오기 
			- 예약 가능 일자 : 캘린더 표시, 가능 시간 (-,로 split) : 불가능은 클릭 막든지... 
			- 인원수 : 최소 인원수부터 최대 인원수까지 +/-로 제시+ 추가 인원 수  		
		1-2. 총 금액
			- 초과 인원 : excharge*초과 인원수 계산
			- 폼 조건 입력 할 때마다 총 금액에는 keyup 이벤트로 계산 결과 제시

		2. insert
		2-1. 입력한 조건으로 예약한 내역 있는지 조회
			- 예약자 id, 스튜디오 id, 날짜, 시간 비교
		2-2. 예약 버튼 누르면 스튜디오 정보, 예약 정보, 고객 정보 가지고 서버로
			★ service에서 꼭꼭꼭 transaction처리!!!!
			- Reservation 테이블에 예약 row 1개 추가 
			- 고객 마이페이지에서도 Reservation 테이블에서 cust_id와 일치하는 모든 예약정보 불러오기
			- 업체 측 일정도 불가능으로 변경(Exception Date에 해당 일자 추가)
			- 		
		
		3. update : 1-1 ~ 2-2 과정과 동일. 다만 update 적용
		4. delete : 2-2에서 reserve id 지우기
	-->
	
<!-- ================== 예약 모달 창================== -->	
<mapper namespace="ReserveMapper">			
	<select id="getSchedule" parameterType="schedule" resultType="schedule">							
		SELECT count(res.res_id)
		FROM reservation res
		GROUP BY res.stu_id
		<if test="'${value}'!=null">
		
		</if>
	</select>		
	
</mapper> <!-- 강제영 : mapper 태그가 닫히지 않아서 에러났음 -->

